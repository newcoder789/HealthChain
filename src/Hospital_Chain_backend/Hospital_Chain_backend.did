type AccessPermission = record {
  is_anonymized : bool;
  can_share : bool;
  expiry : opt nat64;
  can_edit : bool;
  can_view : bool;
};
type MedicalRecord = record {
  owner : principal;
  file_hash : text;
  file_name : opt text;
  file_type : text;
  parent_folder_id : opt text;
  timestamp : nat64;
  record_id : text;
  access_list : vec record { principal; AccessPermission };
};
type Result = variant { Ok : text; Err : text };
type Result_1 = variant { Ok : vec MedicalRecord; Err : text };
type Result_2 = variant { Ok : UserProfile; Err : text };
type Result_3 = variant { Ok; Err : text };
type UserProfile = record {
  records : vec text;
  role : UserRole;
  created_at : nat64;
  user_id : principal;
};
type UserRole = variant { Doctor; Researcher; Patient };
service : () -> {
  create_folder : (text, opt text) -> (Result);
  get_my_records : () -> (Result_1) query;
  get_profile : () -> (Result_2) query;
  grant_access : (text, principal, AccessPermission) -> (Result_3);
  register_user : (UserRole) -> (Result);
  revoke_access : (text, principal) -> (Result_3);
  shared_with_me : () -> (Result_1) query;
  submit_for_research : (text) -> (Result_3);
  update_settings : () -> (Result_3);
  upload_record : (text, text, text, opt text) -> (Result);
}
